{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","services/image-api.js","components/Container/Container.js","components/SearchBar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchImages","searchQuery","page","get","then","data","hits","propTypes","PropTypes","string","currentPage","number","Container","children","className","style","Searchbar","state","query","handleChangeQuery","currentTarget","setState","value","handleSubmit","e","preventDefault","trim","props","onSubmit","alert","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","openModal","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","LoaderSpinner","color","height","width","margin","App","isLoading","showModal","imgTags","error","handleSubmitForm","imageApi","length","prevState","scrollToBottom","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","prevProps","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ee2da28b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1PJql\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2hQve\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__18n0n\",\"Modal\":\"Modal_Modal__uUA6O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__vmVWB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2G_jJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3DQQ_\"};","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst apiKey = '19511472-50aab653a67a58395e1eec2d3';\n\nconst fetchImages = ({ searchQuery = '', page = 1 }) => {\n  return axios\n    .get(\n      `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nexport default fetchImages;\n\nfetchImages.propTypes = {\n  searchQuery: PropTypes.string,\n  currentPage: PropTypes.number,\n};\n","import PropTypes from 'prop-types';\nimport style from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={style.Container}>{children}</div>\n);\n\nexport default Container;\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport style from './SearchBar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChangeQuery = ({ currentTarget }) => {\n    this.setState({ query: currentTarget.value });\n  };\n\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { query } = this.state;\n\n    if (query.trim() === '') {\n      alert('Enter what you are looking for.');\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.SearchFormButton}>\n            <span className={style.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={query}\n            onChange={this.handleChangeQuery}\n            className={style.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport style from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = '',\n  onSetImgInfo,\n  openModal,\n}) => {\n  return (\n    <li className={style.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={style.ImageGalleryItemImage}\n        onClick={() => {\n          onSetImgInfo({ largeImageURL, tags });\n          openModal();\n        }}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n  onSetImgInfo: PropTypes.func,\n  openModal: PropTypes.func,\n};\n","import ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport style from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onSetImgInfo, openModal }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {images.map(({ webformatURL, largeImageURL, tags }, idx) => (\n        <ImageGalleryItem\n          key={idx}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onSetImgInfo={onSetImgInfo}\n          openModal={openModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  openModal: PropTypes.func,\n  onSetImgInfo: PropTypes.func,\n};\n","import PropTypes from 'prop-types';\nimport style from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className={style.Button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport style from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={style.Overlay} onClick={this.handleBackdropClick}>\n        <div className={style.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func,\n};\n","import React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nexport default class LoaderSpinner extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"BallTriangle\"\n        color=\"#00BFFF\"\n        height={150}\n        width={150}\n        style={{ margin: \"auto\" }}\n      />\n    );\n  }\n}","import { Component } from 'react';\nimport imageApi from './services/image-api';\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: 'Homework',\n    isLoading: false,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageURL: null,\n    imgTags: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  handleSubmitForm = query => {\n    if (this.state.searchQuery === query) {\n      return;\n    }\n\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    imageApi({ searchQuery, page })\n      .then(images => {\n        if (images.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n            error: false,\n          }));\n          if (page !== 1) {\n            this.scrollToBottom();\n          }\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n  };\n\n  render() {\n    const {\n      images,\n      showModal,\n      largeImageURL,\n      imgTags,\n      isLoading,\n      error,\n    } = this.state;\n\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleSubmitForm} />\n        {error && <p>Whoops, something went wrong.</p>}\n        {isLoading && <Loader />}\n        <ImageGallery\n          images={images}\n          openModal={this.toggleModal}\n          onSetImgInfo={this.setImgInfo}\n        />\n        {images.length > 0 && !isLoading && (\n          <Button onLoadMore={this.fetchImages} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'),);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3uZOq\",\"SearchForm\":\"SearchBar_SearchForm__hxm4V\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2DvZY\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__35b3k\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2StME\"};"],"sourceRoot":""}